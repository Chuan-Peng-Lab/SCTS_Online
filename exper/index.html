<!DOCTYPE html>
<html lang="zh-cn">
    <head>
        <meta charset="UTF=8">
        <title>ç¤¾ä¼šè®¤çŸ¥è¯åº“é‡è¡¨</title>
        <!-- å®ç”¨å·¥å…· -->
        <script src='../assets/js/jquery-3.6.0.min.js'></script>
        <!-- æ ¸å¿ƒå¼•ç”¨ -->
        <link href="../assets/jspsych/css/jspsych.css" rel="stylesheet" type="text/css">
        <script src="../assets/jspsych/jspsych.js"></script>
        <script src="../assets/jspsych/plugins/jspsych-survey-multi-choice.js"></script>
        <script src="../assets/jspsych/plugins/jspsych-fullscreen.js"></script>
        <script src="../assets/jspsych/plugins/jspsych-instructions.js"></script>
        <script src="../assets/jspsych/plugins/jspsych-survey-likert.js"></script>
    </head>
    <body style="text-align: center;"></body>
    <script>



        let wordAll = []; //å®šä¹‰å•è¯åº“


        let timeline = []; // å®šä¹‰ç©ºçš„æ—¶é—´çº¿

        function begin_introduction () {
            return {
                timeline: [
                    {
                        type: 'fullscreen',
                        fullscreen_mode: true,
                        message: "<p style='font: bold 42px å¾®è½¯é›…é»‘; color: #B22222'>\
                            æ¬¢è¿å‚ä¸æˆ‘ä»¬çš„å®éªŒ</p>\
                            <p style='font: 30px å¾®è½¯é›…é»‘; color: black'><br/>\
                            <å•å‡»ä¸‹æ–¹ æˆ‘åŒæ„ è¿›å…¥å®éªŒç¨‹åº><br/><b>å®éªŒè¿‡ç¨‹ä¸­è¯·å‹¿é€€å‡ºå…¨å±</b>\
                            <br/><br/></p>\
                            <p style='font: 24px åæ–‡ä¸­å®‹; color: grey'>\
                            å—äº¬å¸ˆèŒƒå¤§å­¦å¿ƒç†å­¦é™¢<br/>2021å¹´</p>",
                            button_label: "æˆ‘åŒæ„"
                    },
                    {
                        type: "instructions",
                        pages: [
                            "<p style='text-align: left'>\
                            æŒ‡å¯¼è¯­ï¼š<br/>\
                            æŒ‡å¯¼è¯­å†…å®¹</p>",
                        ],
                        show_clickable_nav: true,
                        allow_backward: false,
                        button_label_previous: "è¿”å›",
                        button_label_next: "ç»§ç»­",
                    }
                ]
            }
        }
        timeline.push(begin_introduction());

        // ç¬¬ä¸€éƒ¨åˆ† è¯„åˆ†
        var scale = ["Strongly Disagree", "Disagree", "Neutral", "Agree", "Strongly Agree"];

        let proc1 = {
            type: 'survey-likert',
            questions: [
              {prompt: "<strong>èƒ½åŠ›ğŸ‘‡</strong>", name: 'ability', labels: scale, required: true}, 
              {prompt: "<strong>é“å¾·ğŸ‘‡</strong>", name: 'morality', labels: scale, required: true},
              {prompt: "<strong>ç¤¾äº¤èƒ½åŠ›ğŸ‘‡</strong>", name: 'socialSkills', labels: scale, required: true},
              {prompt: "<strong>å¤–è¡¨ğŸ‘‡</strong>", name: 'appearance', labels: scale, required: true},
              {prompt: "<strong>ç¤¾ä¼šç»æµåœ°ä½ğŸ‘‡</strong>", name: 'socioeconomicStatus', labels: scale, required: true}
            ],
            preamble: '<p style="font-size: 30px;font-weight: 700;color: red;">[å•è¯åˆ—è¡¨]</p>',
            scale_width: 500,
            on_load: function() { 
                    // è®© æ ‡ç­¾ å·¦ç§»
                    let a = document.getElementsByClassName("jspsych-survey-likert-statement");
                    for (let i = 0; i < a.length; i++){ 
                        a[i].style.textAlign = "left";
                        a[i].style.paddingTop = "0px";
                    }
                    // éšè— continue æŒ‰é’®
                    document.getElementById("jspsych-survey-likert-next").style.visibility="hidden";

                    $("input[type=radio]").on("input", function(a){
                        // åˆ¤æ–­æ˜¯å¦å…¨éƒ¨é€‰æ‹©äº†
                        // å¦‚æœå…¨éƒ¨é€‰æ‹©äº†ï¼Œåˆ™å»¶è¿Ÿ1ç§’è·³è½¬
                        if($("input[name=Q0]:checked").length > 0 && 
                            $("input[name=Q1]:checked").length > 0 && 
                            $("input[name=Q2]:checked").length > 0 &&
                            $("input[name=Q3]:checked").length > 0 && 
                            $("input[name=Q4]:checked").length > 0){ 
                            setTimeout(function(){
                                $("#jspsych-survey-likert-next").click()
                            }, 1500);
                        }
                    })
                },
                on_finish: function(data) { 
                    // äº”ç»´åº¦è¯„åˆ†ç»“æœå‘ˆç°
                    data.ability = data.response.ability;
                    data.morality = data.response.morality;
                    data.socialSkills = data.response.socialSkills;
                    data.appearance = data.response.appearance;
                    data.socioeconomicStatus = data.response.socioeconomicStatus;
                }
        };
        timeline.push(proc1);

        // ç¬¬äºŒéƒ¨åˆ† åŒ¹é…ç¨‹åº¦è¯„åˆ†
        let proc2 = {
            type: 'survey-multi-choice',
            questions: [
                {prompt: '[å•è¯A]ç”¨äºæè¿°ã€ã€‘ç»´åº¦', options: [1,2,3,4,5,6,7,8,9], required: true, horizontal: true}
            ],
            on_load: function() { 
                // å®šä¹‰å¤´éƒ¨æ–‡å­—æ ·å¼
                document.getElementsByClassName("survey-multi-choice")[0].style = "text-align: center; font-size: 25px;";

                // éšè— continue æŒ‰é’®
                document.getElementById("jspsych-survey-multi-choice-next").style.visibility="hidden";
                
                // åˆ›å»ºä¸‹æ–¹æç¤ºè¯­
                let p = document.createElement("p");
                p.innerHTML = "è¯·è¡¨æ˜ä½ å¯¹è¯¥é™ˆè¿°çš„åŒæ„ç¨‹åº¦<br/>ï¼ˆ1 = éå¸¸ä¸åŒæ„ï¼Œ9 = éå¸¸åŒæ„ï¼‰";
                p.style = "font-size: 30px; font-weight: normal;";
                document.getElementById("jspsych-content").appendChild(p);

                $("input[type=radio]").on("input", function(a){
                    // åˆ¤æ–­æ˜¯å¦å…¨éƒ¨é€‰æ‹©äº†
                    // å¦‚æœå…¨éƒ¨é€‰æ‹©äº†ï¼Œåˆ™å»¶è¿Ÿ1ç§’è·³è½¬
                    if($("input[type=radio]:checked").length > 0){ 
                        setTimeout(function(){
                            $("#jspsych-survey-multi-choice-next").click()
                        }, 1500);
                    }
                })
            },
            on_finish: function(data) { 
                // åˆ†å€¼çš„å‘ˆç°
                data.recognition = data.response.Q0;
            }
        };
        timeline.push(proc2);

        // ç¬¬ä¸‰éƒ¨åˆ† æ•ˆåº¦æ‰“åˆ†
        let proc3 = {
            type: 'survey-multi-choice',
            questions: [
                {prompt: '[å•è¯A]', options: [1,2,3,4,5,6,7,8,9], required: true, horizontal: true}
            ],
            on_load: function() { 
                // å®šä¹‰å¤´éƒ¨æ–‡å­—æ ·å¼
                document.getElementsByClassName("survey-multi-choice")[0].style = "text-align: center; font-size: 25px;";

                // éšè— continue æŒ‰é’®
                document.getElementById("jspsych-survey-multi-choice-next").style.visibility="hidden";
                
                // åˆ›å»ºä¸‹æ–¹æç¤ºè¯­
                let p = document.createElement("p");
                p.innerHTML = "è¯·è¡¨æ˜ä½ å¯¹è¯¥å•è¯çš„ç§¯æ/æ¶ˆæç¨‹åº¦è¯„åˆ†<br/>ï¼ˆ1 = éå¸¸æ¶ˆæï¼Œ9 = éå¸¸ç§¯æï¼‰";
                p.style = "font-size: 30px; font-weight: normal;";
                document.getElementById("jspsych-content").appendChild(p);

                $("input[type=radio]").on("input", function(a){
                    // åˆ¤æ–­æ˜¯å¦å…¨éƒ¨é€‰æ‹©äº†
                    // å¦‚æœå…¨éƒ¨é€‰æ‹©äº†ï¼Œåˆ™å»¶è¿Ÿ1ç§’è·³è½¬
                    if($("input[type=radio]:checked").length > 0){ 
                        setTimeout(function(){
                            $("#jspsych-survey-multi-choice-next").click()
                        }, 1500);
                    }
                })
            },
            on_finish: function(data) { 
                // åˆ†å€¼çš„å‘ˆç°
                data.validity = data.response.Q0;
            }
        };
        timeline.push(proc3);

        jsPsych.init({
            timeline: timeline,
            on_finish: function() { 
                jsPsych.data.displayData();
            },
            
        });
    </script>
</html>